{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MACMC,EAAeC,SAASC,cAAc,mBACtCC,MAAEC,EAAKC,QAAEC,GAAYN,EAAaO,SACxC,IAAIC,EAAW,GAeXA,EAAWC,KAAKC,MAAMC,aAAaC,QAlBjB,wBAmBfJ,IACCJ,EAAMS,MAAQL,EAASL,OAAS,GAChCG,EAAQO,MAAQL,EAASH,SAAW,IAf5CL,EAAac,iBAAiB,SAAS,EAAAhB,EAAAiB,WAGvC,WACIP,EAAW,CACPL,MAAOC,EAAMS,MACbR,QAASC,EAAQO,OAErBF,aAAaK,QAdK,sBAckBP,KAAKQ,UAAUT,G,GARQ,MAC/DR,EAAac,iBAAiB,UAkB9B,SAAsBI,GAGlB,GAFAA,EAAEC,kBAEEf,EAAMS,MAAMO,SAAWd,EAAQO,MAAMO,OACrC,OAAOC,OAAO,8BAElBC,QAAQC,IAAI,CACRpB,MAAOC,EAAMS,MACbR,QAASC,EAAQO,QAErBF,aAAaa,QACbN,EAAEO,cAAcC,QAChBlB,EAAW,E","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\nconst FORM_SATE_KEY = 'feedback-form-state';\nconst feedbackForm = document.querySelector('.feedback-form');\nconst { email, message } = feedbackForm.elements;\nlet formData = {};\nonLoadPage();\n\nfeedbackForm.addEventListener('input', throttle(onInputChange, 500));\nfeedbackForm.addEventListener('submit', onFormSubmit)\n\nfunction onInputChange() {\n    formData = {\n        email: email.value,\n        message: message.value\n    };\n    localStorage.setItem(FORM_SATE_KEY, JSON.stringify(formData));\n}\n\nfunction onLoadPage() {\n    formData = JSON.parse(localStorage.getItem(FORM_SATE_KEY));\n    if(formData) {\n        email.value = formData.email || '';\n        message.value = formData.message || '';\n    }\n}\n\nfunction onFormSubmit(e) {\n    e.preventDefault();\n\n    if(!email.value.trim() || !message.value.trim())\n        return allert('Email or message is empty!');\n\n    console.log({\n        email: email.value,\n        message: message.value\n    });\n    localStorage.clear();\n    e.currentTarget.reset();\n    formData = {};\n}\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$feedbackForm","document","querySelector","email","$945622fd0f572e60$var$email","message","$945622fd0f572e60$var$message","elements","$945622fd0f572e60$var$formData","JSON","parse","localStorage","getItem","value","addEventListener","throttle","setItem","stringify","e","preventDefault","trim","allert","console","log","clear","currentTarget","reset"],"version":3,"file":"03-feedback.8f5f2f68.js.map"}